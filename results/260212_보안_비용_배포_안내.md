# 성경 도우미 서비스 — 보안 · 비용 · 배포 · 사용 안내
작성일: 2026-02-12
작성자: AI Assistant

---

## 1. 비용 분석

### 월간 예상 비용: **0원**

| 항목 | 서비스 | 무료 한도 | 초과 시 비용 |
|------|--------|-----------|-------------|
| AI 챗봇 | Google Gemini API (무료 티어) | 분당 15회 / 일 1,500회 | $0.075 / 1K 토큰 |
| 호스팅 | Vercel Hobby 플랜 | 월 100GB 대역폭, 서버리스 함수 포함 | 유료 플랜 $20/월 |
| 도메인 | Vercel 기본 제공 | `your-app.vercel.app` 무료 | 커스텀 도메인 연 1~2만원 |
| 성경 데이터 | 로컬 JSON 파일 | 무제한 | 없음 |

> [!IMPORTANT]
> **어머님 혼자 사용하신다면 무료 한도를 초과할 가능성은 거의 없습니다.**
> 하루 1,500회 질문 = 1분에 1번씩 25시간 연속 사용해야 도달하는 양입니다.

### 비용 초과 방지 장치
- 일일 API 호출 횟수 제한 설정 (예: 하루 200회)
- 한도 도달 시 "오늘 사용량을 다 썼습니다" 안내 메시지 표시
- Google Cloud Console에서 월 예산 알림 설정 (예: $1 초과 시 이메일 알림)

---

## 2. 보안

### 2-1. API 키 보호

| 위험 | 대응 방안 |
|------|----------|
| API 키가 브라우저에 노출 | ❌ 프론트엔드에 API 키를 넣지 않음 |
| 제3자가 API 키를 도용 | ✅ Vercel 서버리스 함수에서만 API 호출 (서버 측 처리) |
| 키 유출 시 과금 폭탄 | ✅ Google Cloud에서 일일 한도 설정 + 예산 알림 |

```
[사용자 브라우저] → [Vercel 서버리스 함수] → [Gemini API]
                   (API 키는 여기에만 존재)
```

> [!CAUTION]
> API 키는 **절대 프론트엔드 코드(HTML, JS)에 직접 넣지 않습니다.**
> Vercel의 환경 변수(Environment Variables)에 저장하여 서버 측에서만 사용합니다.

### 2-2. 사용자 데이터

| 항목 | 상태 |
|------|------|
| 회원가입 / 로그인 | 없음 (불필요) |
| 개인정보 수집 | 없음 |
| 대화 내용 저장 | 서버에 저장하지 않음 (브라우저 세션에서만 유지) |
| HTTPS 적용 | Vercel 자동 적용 (SSL 인증서 무료) |

- 별도 데이터베이스가 없으므로 해킹 위험이 매우 낮습니다
- 페이지를 닫으면 대화 내용은 완전히 사라집니다

### 2-3. 남용 방지
- 서버리스 함수에 Rate Limiting 적용 (같은 IP에서 분당 최대 10회)
- 이상 트래픽 감지 시 자동 차단

---

## 3. 배포 방법

### 3-1. 전체 흐름

```
1. GitHub에 코드 업로드
2. Vercel에 GitHub 연결 (원클릭)
3. 환경 변수에 API 키 입력
4. 자동 배포 완료 → URL 생성
```

### 3-2. 상세 단계

**① GitHub 저장소 생성 (1회)**
- GitHub 계정 필요 (무료)
- `bible-chatbot` 저장소에 코드 업로드

**② Vercel 연동 (1회)**
- [vercel.com](https://vercel.com) 에서 GitHub 계정으로 로그인
- "Import Project" → GitHub 저장소 선택
- 환경 변수 설정: `GEMINI_API_KEY = (발급받은 키)`
- "Deploy" 클릭 → 약 1분 후 배포 완료

**③ 배포 결과**
- 자동 생성되는 URL: `https://bible-chatbot.vercel.app`
- 이후 코드를 수정하면 GitHub에 push하면 **자동으로 재배포**

> [!TIP]
> 한 번 설정해두면 이후 업데이트는 코드 수정 → GitHub push만 하면 자동 반영됩니다.

### 3-3. 필요한 계정

| 서비스 | 용도 | 비용 |
|--------|------|------|
| [GitHub](https://github.com) | 코드 저장 | 무료 |
| [Vercel](https://vercel.com) | 웹사이트 배포 | 무료 (Hobby 플랜) |
| [Google AI Studio](https://aistudio.google.com) | Gemini API 키 발급 | 무료 |

---

## 4. 사용자(어머님) 사용 방법

### 4-1. 접근 방법
- 핸드폰 브라우저(Chrome, Safari)로 URL 접속
- 예시: `https://bible-chatbot.vercel.app`

### 4-2. 홈 화면에 추가 (앱처럼 사용)

**아이폰(Safari):**
1. URL 접속 → 하단 공유 버튼(□↑) 터치
2. "홈 화면에 추가" 선택
3. 홈 화면에 앱 아이콘 생성 → 앱처럼 터치해서 바로 사용

**안드로이드(Chrome):**
1. URL 접속 → 우측 상단 ⋮ 메뉴
2. "홈 화면에 추가" 선택
3. 홈 화면에 앱 아이콘 생성

> [!TIP]
> 홈 화면에 추가하면 **앱 스토어 설치 없이** 앱처럼 사용할 수 있습니다.
> 어머님 핸드폰에 직접 설정해드리면 됩니다.

### 4-3. 사용 흐름
1. 아이콘 터치 → 앱 열림
2. 질문 입력 (예: "아몬은 누구야?")
3. AI가 답변 + 성경 구절 출처 제공
4. "성경 구절 보기" 버튼으로 원문 확인
5. 하단 추천 질문으로 이어서 탐색

### 4-4. 인터넷 필요 여부
- **필요합니다** (AI 답변을 위해 서버 통신 필요)
- Wi-Fi 또는 모바일 데이터 연결 상태에서 사용

---

## 5. 리스크 요약

| 리스크 | 수준 | 대응 |
|--------|------|------|
| 비용 초과 | 🟢 매우 낮음 | 일일 한도 + 예산 알림 설정 |
| API 키 노출 | 🟢 매우 낮음 | 서버 측에서만 사용 |
| 개인정보 유출 | 🟢 해당 없음 | 수집하는 정보 없음 |
| 서비스 중단 | 🟡 낮음 | Vercel/Google 장애 시 일시 중단 가능 |
| AI 오답 | 🟡 보통 | 답변에 성경 구절 출처를 함께 제공하여 검증 가능 |

---

## 6. 최종 결정 체크리스트

진행하시려면 아래 항목을 확인해주세요:

- [ ] Google 계정이 있다 (Gemini API 키 발급용)
- [ ] GitHub 계정이 있다 (없으면 무료 가입)
- [ ] 어머님 핸드폰에서 인터넷 사용 가능하다
- [ ] 이 비용/보안 구조가 괜찮다

> 모두 확인되면 실제 AI 연동 + 배포를 진행하겠습니다.
